import{c as R,M as B,i as W,u as A,P as F,a as H,b as K,L as U,m as S}from"./proxy-vUv5b-XW.js";import{r as i,j as x,c as z,u as G}from"./app-CpNX-BFI.js";const O=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],V=R("CircleCheckBig",O);const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q=R("CircleX",J);const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z=R("Info",Y);const ee=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ye=R("Mail",ee);const te=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],be=R("MapPin",te);const oe=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ne=R("TriangleAlert",oe);const se=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],re=R("X",se);function I(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ie(...t){return e=>{let o=!1;const s=t.map(l=>{const n=I(l,e);return!o&&typeof n=="function"&&(o=!0),n});if(o)return()=>{for(let l=0;l<s.length;l++){const n=s[l];typeof n=="function"?n():I(t[l],null)}}}}function ce(...t){return i.useCallback(ie(...t),t)}class le extends i.Component{getSnapshotBeforeUpdate(e){const o=this.props.childRef.current;if(o&&e.isPresent&&!this.props.isPresent){const s=o.offsetParent,l=W(s)&&s.offsetWidth||0,n=this.props.sizeRef.current;n.height=o.offsetHeight||0,n.width=o.offsetWidth||0,n.top=o.offsetTop,n.left=o.offsetLeft,n.right=l-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ae({children:t,isPresent:e,anchorX:o,root:s}){const l=i.useId(),n=i.useRef(null),r=i.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=i.useContext(B),m=ce(n,t?.ref);return i.useInsertionEffect(()=>{const{width:a,height:v,top:c,left:f,right:u}=r.current;if(e||!n.current||!a||!v)return;const _=o==="left"?`left: ${f}`:`right: ${u}`;n.current.dataset.motionPopId=l;const d=document.createElement("style");y&&(d.nonce=y);const g=s??document.head;return g.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${v}px !important;
            ${_}px !important;
            top: ${c}px !important;
          }
        `),()=>{g.contains(d)&&g.removeChild(d)}},[e]),x.jsx(le,{isPresent:e,childRef:n,sizeRef:r,children:i.cloneElement(t,{ref:m})})}const fe=({children:t,initial:e,isPresent:o,onExitComplete:s,custom:l,presenceAffectsLayout:n,mode:r,anchorX:y,root:m})=>{const a=A(de),v=i.useId();let c=!0,f=i.useMemo(()=>(c=!1,{id:v,initial:e,isPresent:o,custom:l,onExitComplete:u=>{a.set(u,!0);for(const _ of a.values())if(!_)return;s&&s()},register:u=>(a.set(u,!1),()=>a.delete(u))}),[o,a,s]);return n&&c&&(f={...f}),i.useMemo(()=>{a.forEach((u,_)=>a.set(_,!1))},[o]),i.useEffect(()=>{!o&&!a.size&&s&&s()},[o]),r==="popLayout"&&(t=x.jsx(ae,{isPresent:o,anchorX:y,root:m,children:t})),x.jsx(F.Provider,{value:f,children:t})};function de(){return new Map}const P=t=>t.key||"";function L(t){const e=[];return i.Children.forEach(t,o=>{i.isValidElement(o)&&e.push(o)}),e}const ue=({children:t,custom:e,initial:o=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:n="sync",propagate:r=!1,anchorX:y="left",root:m})=>{const[a,v]=H(r),c=i.useMemo(()=>L(t),[t]),f=r&&!a?[]:c.map(P),u=i.useRef(!0),_=i.useRef(c),d=A(()=>new Map),[g,b]=i.useState(c),[h,N]=i.useState(c);K(()=>{u.current=!1,_.current=c;for(let p=0;p<h.length;p++){const C=P(h[p]);f.includes(C)?d.delete(C):d.get(C)!==!0&&d.set(C,!1)}},[h,f.length,f.join("-")]);const k=[];if(c!==g){let p=[...c];for(let C=0;C<h.length;C++){const M=h[C],$=P(M);f.includes($)||(p.splice(C,0,M),k.push(M))}return n==="wait"&&k.length&&(p=k),N(L(p)),b(c),null}const{forceRender:w}=i.useContext(U);return x.jsx(x.Fragment,{children:h.map(p=>{const C=P(p),M=r&&!a?!1:c===h||f.includes(C),$=()=>{if(d.has(C))d.set(C,!0);else return;let j=!0;d.forEach(E=>{E||(j=!1)}),j&&(w?.(),N(_.current),r&&v?.(),s&&s())};return x.jsx(fe,{isPresent:M,initial:!u.current||o?void 0:!1,custom:e,presenceAffectsLayout:l,mode:n,root:m,onExitComplete:M?void 0:$,anchorX:y,children:p},C)})})},T=i.createContext(void 0);function ve(t){const e=z.c(13),{children:o}=t;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],e[0]=s):s=e[0];const[l,n]=i.useState(s),{props:r}=G();let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y=new Map,e[1]=y):y=e[1];const m=i.useRef(y);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=N=>{n(k=>k.filter(w=>w.id!==N))},e[2]=a):a=e[2];const v=a;let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=(N,k,w)=>{const p=w===void 0?5e3:w,C=k.trim(),M=`${N}:${C}`,$=Date.now(),j=m.current.get(M);if(j&&$-j<1500)return;m.current.set(M,$),m.current.forEach((D,q)=>{$-D>4500&&m.current.delete(q)});const E=`${Date.now()}-${Math.random()}`;n([{id:E,type:N,message:C,duration:p}]),p>0&&setTimeout(()=>{v(E)},p)},e[3]=c):c=e[3];const f=c;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{n([])},e[4]=u):u=e[4];const _=u;let d,g;e[5]!==r.flash?(d=()=>{r.flash?.success&&f("success",r.flash.success),r.flash?.error&&f("error",r.flash.error),r.flash?.warning&&f("warning",r.flash.warning),r.flash?.info&&f("info",r.flash.info)},g=[r.flash,f],e[5]=r.flash,e[6]=d,e[7]=g):(d=e[6],g=e[7]),i.useEffect(d,g);let b;e[8]!==l?(b={notifications:l,addNotification:f,removeNotification:v,clearAll:_},e[8]=l,e[9]=b):b=e[9];let h;return e[10]!==o||e[11]!==b?(h=x.jsx(T.Provider,{value:b,children:o}),e[10]=o,e[11]=b,e[12]=h):h=e[12],h}function X(){const t=i.useContext(T);if(t===void 0)throw new Error("useNotification doit être utilisé à l'intérieur d'un NotificationProvider");return t}const he={success:{icon:V,bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600",progressColor:"bg-green-500"},error:{icon:Q,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",progressColor:"bg-red-500"},warning:{icon:ne,bgColor:"bg-orange-50",borderColor:"border-orange-200",iconColor:"text-orange-600",progressColor:"bg-orange-500"},info:{icon:Z,bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",progressColor:"bg-blue-500"}};function pe(t){const e=z.c(24),{id:o,type:s,message:l,duration:n}=t,r=n===void 0?5e3:n,{removeNotification:y}=X(),m=he[s],a=m.icon;let v,c,f,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(v={opacity:0,y:-20,scale:.95},c={opacity:1,y:0,scale:1},f={opacity:0,x:100,scale:.95},u={duration:.3,ease:"easeOut"},e[0]=v,e[1]=c,e[2]=f,e[3]=u):(v=e[0],c=e[1],f=e[2],u=e[3]);const _=`relative flex items-start gap-3 p-4 rounded-lg border shadow-lg ${m.bgColor} ${m.borderColor} min-w-[320px] max-w-md overflow-hidden`,d=`w-5 h-5 ${m.iconColor} flex-shrink-0 mt-0.5`;let g;e[4]!==a||e[5]!==d?(g=x.jsx(a,{className:d}),e[4]=a,e[5]=d,e[6]=g):g=e[6];let b;e[7]!==l?(b=x.jsx("div",{className:"flex-1 text-sm text-gray-800 font-medium pr-2",children:l}),e[7]=l,e[8]=b):b=e[8];let h;e[9]!==o||e[10]!==y?(h=()=>y(o),e[9]=o,e[10]=y,e[11]=h):h=e[11];let N;e[12]===Symbol.for("react.memo_cache_sentinel")?(N=x.jsx(re,{className:"w-4 h-4"}),e[12]=N):N=e[12];let k;e[13]!==h?(k=x.jsx("button",{onClick:h,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer la notification",children:N}),e[13]=h,e[14]=k):k=e[14];let w;e[15]!==m.progressColor||e[16]!==r?(w=r>0&&x.jsx(S.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:r/1e3,ease:"linear"},className:`absolute bottom-0 left-0 h-1 ${m.progressColor}`}),e[15]=m.progressColor,e[16]=r,e[17]=w):w=e[17];let p;return e[18]!==k||e[19]!==w||e[20]!==_||e[21]!==g||e[22]!==b?(p=x.jsxs(S.div,{layout:!0,initial:v,animate:c,exit:f,transition:u,className:_,children:[g,b,k,w]}),e[18]=k,e[19]=w,e[20]=_,e[21]=g,e[22]=b,e[23]=p):p=e[23],p}function _e(){const t=z.c(4),{notifications:e}=X();let o;t[0]!==e?(o=e.map(me),t[0]=e,t[1]=o):o=t[1];let s;return t[2]!==o?(s=x.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:x.jsx(ue,{mode:"popLayout",children:o})}),t[2]=o,t[3]=s):s=t[3],s}function me(t){return x.jsx("div",{className:"pointer-events-auto",children:x.jsx(pe,{id:t.id,type:t.type,message:t.message,duration:t.duration})},t.id)}export{ue as A,Q as C,ye as M,ve as N,ne as T,re as X,V as a,be as b,_e as c,X as u};
