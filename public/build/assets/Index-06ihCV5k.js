import{c as A,r as h,j as e,L as B}from"./app-BHzqiJ_z.js";import{B as T}from"./badge-BQwG5pdY.js";import{I as k}from"./input-Cc1l2tJv.js";import{B as E}from"./button-DI_2iZ4T.js";import{L as M}from"./frontend-layout-gtA1vfQp.js";import{P as D}from"./PageBanner-DwUtrSRw.js";import{a as R}from"./utils-Cn8BqKxv.js";import{m as I}from"./proxy-xxjnpx_T.js";import{T as b}from"./tag-UAamrcmp.js";import{C as P}from"./calendar-BKQWT9xl.js";import{S as Q}from"./search-QAOr8oOd.js";import{f as U,a as $}from"./fr-C-sNEScz.js";/* empty css            */import"./utils-B6rCUee9.js";import"./NotificationContainer-CtIDklMV.js";import"./clock-B2IeEkH_.js";import"./phone-DUiKqnkG.js";const z=r=>{const a=A.c(9),{actualites:f,categories:p}=r,u=f===void 0?[]:f,y=p===void 0?[]:p,[l,v]=h.useState("Toutes"),[s,N]=h.useState(""),[w]=h.useState(!1),C=["Toutes",...y.length?y.map(O):Array.from(new Set(u.map(q).filter(Boolean)))];let o;a[0]===Symbol.for("react.memo_cache_sentinel")?(o={Annonce:"bg-blue-600",Événement:"bg-purple-600",Travaux:"bg-orange-600",Culture:"bg-pink-600",Social:"bg-green-600",Environnement:"bg-emerald-600"},a[0]=o):o=a[0];const S=o;let i;a[1]!==s||a[2]!==l?(i=t=>{const g=l==="Toutes"||t.categorie===l,x=!s||t.titre.toLowerCase().includes(s.toLowerCase())||t.description.toLowerCase().includes(s.toLowerCase());return g&&x},a[1]=s,a[2]=l,a[3]=i):i=a[3];const j=u.filter(i);let c;a[4]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(D,{title:"Actualités",variant:"compact"}),a[4]=c):c=a[4];let n;a[5]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a[5]=n):n=a[5];let m;a[6]===Symbol.for("react.memo_cache_sentinel")?(m=t=>N(t.target.value),a[6]=m):m=a[6];let d;return a[7]!==s?(d=e.jsxs("div",{className:"relative w-full lg:w-64",children:[n,e.jsx(k,{placeholder:"Rechercher...",value:s,onChange:m,className:"pl-10"})]}),a[7]=s,a[8]=d):d=a[8],e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c,e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg mb-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(t=>e.jsx(E,{variant:l===t?"default":"outline",size:"sm",onClick:()=>v(t),className:l===t?"bg-[var(--primary-orange)] hover:bg-orange-600":"",children:t},t))}),d]})}),w?e.jsx("div",{className:"text-center py-12",children:"Chargement..."}):j.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:j.map((t,g)=>{const x=S[t.categorie]||"bg-gray-600",L=t.slug?R(t.slug):"#";return e.jsx(B,{href:L,className:"block",children:e.jsxs(I.article,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:g*.05},className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all group h-full flex flex-col",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden bg-gray-200",children:[t.image_url?e.jsx("img",{src:t.image_url,alt:t.titre,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-gray-600 flex items-center justify-center",children:e.jsx(b,{className:"w-16 h-16 text-white/30"})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(T,{className:`${x} text-white border-0`,children:t.categorie})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-3",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("time",{children:U(new Date(t.date_publication),"d MMMM yyyy",{locale:$})})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-[#DC2626] transition-colors line-clamp-2",children:t.titre}),e.jsx("p",{className:"text-gray-600 line-clamp-3 flex-1",children:t.description})]})]})},t.id)})}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl",children:[e.jsx(b,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Aucune actualité trouvée"})]})]})]})};z.layout=r=>e.jsx(M,{children:r});function O(r){return r.name}function q(r){return r.categorie}export{z as default};
