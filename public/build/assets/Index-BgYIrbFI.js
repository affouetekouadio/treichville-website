import{c as $,U as I,j as e,L as D}from"./app-BHzqiJ_z.js";import{B as T}from"./badge-BQwG5pdY.js";import{B as A}from"./button-DI_2iZ4T.js";import{I as Q}from"./input-Cc1l2tJv.js";import{L as q}from"./frontend-layout-gtA1vfQp.js";import{P as G}from"./PageBanner-DwUtrSRw.js";import{e as z,s as v}from"./utils-Cn8BqKxv.js";import{m as y}from"./proxy-xxjnpx_T.js";import{S as O}from"./sparkles-Cq4hSJue.js";import{T as R}from"./tag-UAamrcmp.js";import{C as b}from"./calendar-BKQWT9xl.js";import{C as W}from"./clock-B2IeEkH_.js";import{b as J,a as K}from"./NotificationContainer-CtIDklMV.js";import{S as X}from"./search-QAOr8oOd.js";import{f as N,a as w}from"./fr-C-sNEScz.js";/* empty css            */import"./utils-B6rCUee9.js";import"./phone-DUiKqnkG.js";const Y=a=>{const t=$.c(12),{evenements:S,categories:C}=a,U=S===void 0?[]:S,_=C===void 0?[]:C,[r,V]=I.useState("Toutes"),[l,F]=I.useState(""),k=(U??[]).map(Z),H=["Toutes",..._.length?_.map(ee):Array.from(new Set(k.map(se).filter(Boolean)))];let n;t[0]!==l||t[1]!==r?(n=s=>{const o=r==="Toutes"||s.categorie===r,c=!l||s.titre.toLowerCase().includes(l.toLowerCase())||s.description.toLowerCase().includes(l.toLowerCase());return o&&c},t[0]=l,t[1]=r,t[2]=n):n=t[2];const E=k.filter(n);let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m={Culturel:"bg-purple-600",Sportif:"bg-green-600",Familial:"bg-blue-600",Citoyen:"bg-orange-600",Festif:"bg-pink-600",Social:"bg-[#03800a]"},t[3]=m):m=t[3];const M=m;let i;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=new Date,i.setHours(0,0,0,0),t[4]=i):i=t[4];let d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=s=>new Date(s.date_debut)>=i,t[5]=d):d=t[5];const P=E.filter(d);let x;t[6]===Symbol.for("react.memo_cache_sentinel")?(x=s=>new Date(s.date_debut)<i,t[6]=x):x=t[6];const B=E.filter(x),L=P;let h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx(G,{title:"Événements",variant:"compact"}),t[7]=h):h=t[7];let g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=e.jsx(X,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t[8]=g):g=t[8];let p;t[9]===Symbol.for("react.memo_cache_sentinel")?(p=s=>F(s.target.value),t[9]=p):p=t[9];let f;return t[10]!==l?(f=e.jsxs("div",{className:"relative w-full lg:w-64",children:[g,e.jsx(Q,{placeholder:"Rechercher...",value:l,onChange:p,className:"pl-10"})]}),t[10]=l,t[11]=f):f=t[11],e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h,e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg mb-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(s=>e.jsx(A,{variant:r===s?"default":"outline",size:"sm",onClick:()=>V(s),className:r===s?"bg-[var(--primary-orange)] hover:bg-orange-600":"",children:s},s))}),f]})}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-20",children:[e.jsxs(y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(O,{className:"w-8 h-8 text-[#f8812f]"}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Événements à venir"})]}),e.jsx("p",{className:"text-gray-600 ml-11",children:"Ne manquez pas ces prochains rendez-vous"})]}),L.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:L.map((s,o)=>{const c=M[s.categorie]||"bg-gray-600",u=new Date(s.date_debut),j=z(s.slug??v(s.titre));return e.jsx(D,{href:j,className:"block",children:e.jsxs(y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[s.image_url?e.jsx("img",{src:s.image_url,alt:s.titre,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-200 text-gray-400",children:e.jsx(R,{className:"h-8 w-8"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.gratuit&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg",children:"Gratuit"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(T,{className:`${c} text-white border-0 mb-3`,children:s.categorie}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 group-hover:text-[#03800a] transition-colors",children:s.titre}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-[#f8812f]"}),e.jsx("span",{className:"font-medium",children:N(u,"EEEE d MMMM yyyy",{locale:w})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-[#f8812f]"}),e.jsx("span",{children:N(u,"HH:mm",{locale:w})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-[#f8812f]"}),e.jsx("span",{children:s.lieu})]})]})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl",children:[e.jsx(b,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Aucun événement à venir pour le moment"})]})]}),B.length>0&&e.jsxs("div",{children:[e.jsxs(y.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(K,{className:"w-8 h-8 text-gray-400"}),e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Événements passés"})]}),e.jsx("p",{className:"text-gray-600 ml-11",children:"Revivez les moments forts de notre commune"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:B.map((s,o)=>{const c=M[s.categorie]||"bg-gray-600",u=new Date(s.date_debut),j=z(s.slug??v(s.titre));return e.jsx(D,{href:j,className:"block",children:e.jsxs(y.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},className:"group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.image_url?e.jsx("img",{src:s.image_url,alt:s.titre,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 opacity-90"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-200 text-gray-400",children:e.jsx(R,{className:"h-7 w-7"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-black/20"}),e.jsx("div",{className:"absolute top-4 right-4 bg-gray-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Terminé"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(T,{className:`${c} text-white border-0 mb-3 opacity-75`,children:s.categorie}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:s.titre}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:N(u,"d MMMM yyyy",{locale:w})})]})]})]})},s.id)})})]})]})]})]})};Y.layout=a=>e.jsx(q,{children:a});function Z(a){return{...a,slug:a.slug??v(a.titre)}}function ee(a){return a.name}function se(a){return a.categorie}export{Y as default};
