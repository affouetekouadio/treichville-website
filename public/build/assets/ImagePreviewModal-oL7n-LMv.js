import{r as x,j as e}from"./app-CpNX-BFI.js";import{A as p,X as b}from"./NotificationContainer-CXzCVhM-.js";import{c as u,m as c}from"./proxy-vUv5b-XW.js";import{D as w}from"./download--FNeod4d.js";const f=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],j=u("ZoomIn",f);const k=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],g=u("ZoomOut",k);function Z({open:a,onClose:h,imageUrl:r,title:o}){const[s,n]=x.useState(1);x.useEffect(()=>{if(!a)return;const t=i=>{i.key==="Escape"?l():i.key==="+"||i.key==="="?d():i.key==="-"&&m()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[a,s]);const d=()=>{n(t=>Math.min(t+.25,3))},m=()=>{n(t=>Math.max(t-.25,.5))},y=()=>{const t=document.createElement("a");t.href=r,t.download=o||"image",document.body.appendChild(t),t.click(),document.body.removeChild(t)},l=()=>{n(1),h()};return e.jsx(p,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-sm",onClick:l}),e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:e.jsxs(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},className:"relative max-h-[90vh] max-w-[90vw] w-full h-full flex flex-col",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between bg-white/10 backdrop-blur-md px-4 py-3 rounded-t-xl",children:[e.jsx("div",{className:"flex items-center gap-3",children:o&&e.jsx("h3",{className:"text-white font-semibold text-sm truncate max-w-xs",children:o})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-lg px-2 py-1",children:[e.jsx("button",{onClick:m,disabled:s<=.5,className:"p-1.5 text-white hover:bg-white/10 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Dézoomer",children:e.jsx(g,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-white text-xs font-medium min-w-[3rem] text-center",children:[Math.round(s*100),"%"]}),e.jsx("button",{onClick:d,disabled:s>=3,className:"p-1.5 text-white hover:bg-white/10 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Zoomer",children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:y,className:"p-2 text-white hover:bg-white/10 rounded-lg transition-colors",title:"Télécharger",children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("button",{onClick:l,className:"p-2 text-white hover:bg-white/10 rounded-lg transition-colors",title:"Fermer",children:e.jsx(b,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-black/20 backdrop-blur-sm rounded-b-xl flex items-center justify-center p-4",children:e.jsx(c.img,{src:r,alt:o||"Image preview",className:"max-w-full max-h-full object-contain",style:{transform:`scale(${s})`,transition:"transform 0.2s ease-out"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 backdrop-blur-sm text-white text-xs px-3 py-1.5 rounded-full",children:["Appuyez sur ",e.jsx("kbd",{className:"bg-white/20 px-1.5 py-0.5 rounded",children:"ESC"})," pour fermer"]})]})})]})})}export{Z as I};
