import{S as q,s as R,h as P,g as L,n as M,u as U,r as h,a as F,b as A,c as k,j as s}from"./app-Dxex6Ysx.js";import{B as D}from"./button-BknQ97p_.js";import{I as E}from"./input-Cu3g9Ibg.js";import{c as B}from"./utils-a42V9Ldg.js";import{L as u}from"./label-D7qfl3qb.js";import{m,M as z,P as H,a as V,b as G,L as J}from"./frontend-layout-Dkj7YHkA.js";import{C as Q}from"./circle-check-CEREjUrd.js";import{c as Y}from"./createLucideIcon-CPCgHD8P.js";/* empty css            */import"./index-CuR5vLxN.js";import"./x-DVo8uz5Z.js";var W=class extends q{#t;#i=void 0;#e;#s;constructor(e,i){super(),this.#t=e,this.setOptions(i),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const i=this.options;this.options=this.#t.defaultMutationOptions(e),R(this.options,i)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),i?.mutationKey&&this.options.mutationKey&&P(i.mutationKey)!==P(this.options.mutationKey)?this.reset():this.#e?.state.status==="pending"&&this.#e.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#n(e)}getCurrentResult(){return this.#i}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#a(),this.#n()}mutate(e,i){return this.#s=i,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(e)}#a(){const e=this.#e?.state??L();this.#i={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#n(e){M.batch(()=>{if(this.#s&&this.hasListeners()){const i=this.#i.variables,t=this.#i.context,a={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#s.onSuccess?.(e.data,i,t,a),this.#s.onSettled?.(e.data,null,i,t,a)):e?.type==="error"&&(this.#s.onError?.(e.error,i,t,a),this.#s.onSettled?.(void 0,e.error,i,t,a))}this.listeners.forEach(i=>{i(this.#i)})})}};function X(e,i){const t=U(),[a]=h.useState(()=>new W(t,e));h.useEffect(()=>{a.setOptions(e)},[a,e]);const n=h.useSyncExternalStore(h.useCallback(o=>a.subscribe(M.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),r=h.useCallback((o,c)=>{a.mutate(o,c).catch(F)},[a]);if(n.error&&A(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:r,mutateAsync:n.mutate}}const Z=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ee=Y("Send",Z),T={Service:"services",Actualite:"actualites",Evenement:"evenements",Contact:"contacts"};class te{apiUrl;projectId;apiKey;entities;constructor(i={}){this.apiUrl=i.apiUrl??void 0??void 0??"/api/civ",this.projectId=i.projectId??void 0??void 0,this.apiKey=i.apiKey??void 0??void 0,this.entities=Object.keys(T).reduce((t,a)=>{const n=a;return t[n]=new se(this,n),t},{})}async request(i,t,a){const n={"Content-Type":"application/json"};this.apiKey&&(n.Authorization=`Bearer ${this.apiKey}`),this.projectId&&(n["x-project-id"]=this.projectId);const r=await fetch(`${this.apiUrl}${i}`,{method:t,headers:n,body:a?JSON.stringify(a):void 0});if(!r.ok){const o=await r.text();throw new Error(`[CivAPI] ${r.status} ${r.statusText} - ${o||"Unknown error"}`)}if(r.status!==204)return await r.json()}}class se{constructor(i,t){this.client=i,this.entity=t}buildPath(i){const t=`/entities/${T[this.entity]}`;return i?`${t}?${i.toString()}`:t}async list(i,t){const a=new URLSearchParams;return i&&a.append("orderBy",i),typeof t=="number"&&a.append("limit",t.toString()),this.client.request(this.buildPath(a),"GET")}async filter(i={},t,a){return this.client.request(`${this.buildPath()}/filter`,"POST",{filters:i,orderBy:t,limit:a})}async create(i){return this.client.request(this.buildPath(),"POST",i)}}const ie=new te,I=h.forwardRef((e,i)=>{const t=k.c(9);let a,n;t[0]!==e?({className:a,...n}=e,t[0]=e,t[1]=a,t[2]=n):(a=t[1],n=t[2]);let r;t[3]!==a?(r=B("flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),t[3]=a,t[4]=r):r=t[4];let o;return t[5]!==n||t[6]!==i||t[7]!==r?(o=s.jsx("textarea",{ref:i,className:r,...n}),t[5]=n,t[6]=i,t[7]=r,t[8]=o):o=t[8],o});I.displayName="Textarea";const ae=()=>{const e=k.c(21);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={nom:"",email:"",telephone:"",sujet:"",message:""},e[0]=i):i=e[0];const[t,a]=h.useState(i),[n,r]=h.useState(!1);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o={mutationFn:ne,onSuccess:()=>{r(!0),a({nom:"",email:"",telephone:"",sujet:"",message:""}),setTimeout(()=>r(!1),5e3)}},e[1]=o):o=e[1];const c=X(o);let p;e[2]!==c||e[3]!==t?(p=l=>{l.preventDefault(),c.mutate(t)},e[2]=c,e[3]=t,e[4]=p):p=e[4];const O=p;let x;e[5]===Symbol.for("react.memo_cache_sentinel")?(x=(l,K)=>{a($=>({...$,[l]:K}))},e[5]=x):x=e[5];const d=x;let f,b;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"url('https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=1200')"}}),b=s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1d8595]/40 via-[#1d8595]/50 to-teal-700/60"}),e[6]=f,e[7]=b):(f=e[6],b=e[7]);let y,v;e[8]===Symbol.for("react.memo_cache_sentinel")?(y={opacity:0,y:30},v={opacity:1,y:0},e[8]=y,e[9]=v):(y=e[8],v=e[9]);let g;e[10]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsxs("section",{className:"relative bg-gradient-to-br from-[#1d8595] to-teal-700 py-24 overflow-hidden",children:[f,b,s.jsx("div",{className:"max-w-7xl mx-auto px-6 relative",children:s.jsxs(m.div,{initial:y,animate:v,className:"text-center max-w-3xl mx-auto",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-white/20 text-white rounded-full text-sm font-semibold mb-6",children:"Découvrir Treichville"}),s.jsx("h1",{className:"text-4xl lg:text-6xl font-bold text-white mb-6",children:"Nous contacter"})]})})]}),e[10]=g):g=e[10];let j,w;e[11]===Symbol.for("react.memo_cache_sentinel")?(w={opacity:0,x:-30},j={opacity:1,x:0},e[11]=j,e[12]=w):(j=e[11],w=e[12]);let N;e[13]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsxs(m.div,{initial:w,animate:j,className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Informations de contact"}),[{icon:z,title:"Adresse",content:"Place de la Mairie, 75000 Paris"},{icon:H,title:"Téléphone",content:"01 23 45 67 89",link:"tel:0123456789"},{icon:V,title:"Email",content:"contact@collectivite.fr",link:"mailto:contact@collectivite.fr"},{icon:G,title:"Horaires",content:`Lun-Ven : 8h30 - 17h00
Sam : 9h00 - 12h00`}].map(re)]}),e[13]=N):N=e[13];let S,C;e[14]===Symbol.for("react.memo_cache_sentinel")?(S={opacity:0,x:30},C={opacity:1,x:0},e[14]=S,e[15]=C):(S=e[14],C=e[15]);let _;return e[16]!==c.isPending||e[17]!==t||e[18]!==O||e[19]!==n?(_=s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g,s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[N,s.jsx(m.div,{initial:S,animate:C,className:"bg-white rounded-xl p-8 shadow-xl",children:n?s.jsxs(m.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Q,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Message envoyé !"}),s.jsx("p",{className:"text-gray-600",children:"Nous vous répondrons dans les plus brefs délais."})]}):s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(u,{htmlFor:"nom",children:"Nom complet *"}),s.jsx(E,{id:"nom",required:!0,value:t.nom,onChange:l=>d("nom",l.target.value),placeholder:"Votre nom"})]}),s.jsxs("div",{children:[s.jsx(u,{htmlFor:"telephone",children:"Téléphone"}),s.jsx(E,{id:"telephone",type:"tel",value:t.telephone,onChange:l=>d("telephone",l.target.value),placeholder:"06 12 34 56 78"})]})]}),s.jsxs("div",{children:[s.jsx(u,{htmlFor:"email",children:"Email *"}),s.jsx(E,{id:"email",type:"email",required:!0,value:t.email,onChange:l=>d("email",l.target.value),placeholder:"votre@email.com"})]}),s.jsxs("div",{children:[s.jsx(u,{htmlFor:"sujet",children:"Sujet *"}),s.jsx(E,{id:"sujet",required:!0,value:t.sujet,onChange:l=>d("sujet",l.target.value),placeholder:"Objet de votre demande"})]}),s.jsxs("div",{children:[s.jsx(u,{htmlFor:"message",children:"Message *"}),s.jsx(I,{id:"message",required:!0,rows:6,value:t.message,onChange:l=>d("message",l.target.value),placeholder:"Décrivez votre demande..."})]}),s.jsx(D,{type:"submit",disabled:c.isPending,className:"w-full bg-[#f8812f] hover:bg-orange-600 py-6 text-lg",children:c.isPending?"Envoi...":s.jsxs(s.Fragment,{children:["Envoyer ",s.jsx(ee,{className:"w-5 h-5 ml-2"})]})})]})})]})})]}),e[16]=c.isPending,e[17]=t,e[18]=O,e[19]=n,e[20]=_):_=e[20],_};ae.layout=e=>s.jsx(J,{children:e});function ne(e){return ie.entities.Contact.create(e)}function re(e,i){return s.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.1},className:"flex gap-4 p-6 bg-white rounded-xl shadow-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-[#1d8595] rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(e.icon,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-gray-900 mb-1",children:e.title}),e.link?s.jsx("a",{href:e.link,className:"text-gray-600 hover:text-[#f8812f] transition-colors whitespace-pre-line",children:e.content}):s.jsx("div",{className:"text-gray-600 whitespace-pre-line",children:e.content})]})]},i)}export{ae as default};
